var awjs = jQuery.noConflict(); awjs(document).ready(function () { function e(e, a, s, t) { var i = awjs(e), r = s, c = a, n = 0, d = "--Select--", l = 1, h = "Nominee", o = 10, w = "Director Credit", u = [], v = { Id: "3", Name: "Award Category" }; u.push(v); var p = { Id: "14", Name: "Honorary Index" }; u.push(p); var f = { Id: "19", Name: "Sci/Tech Index" }; u.push(f); var m = i.find("select.awards-advsrch-searchtype").val(); i.find("div.field-validation-error").text(""), c == d || 0 == r.length || "0" == d ? (i.find("input.awards-advsrch-searchterm").val(""), i.find("input.awards-advsrch-searchterm").prop("disabled", !0)) : i.find("input.awards-advsrch-searchterm").prop("disabled", !1); var g = u.filter(function (e) { return e.Id == r || e.Name == c }); g.length > 0 ? (i.find("input.awards-advsrch-searchterm").hide(), g[0].Name == v.Name && (i.find("select.hono-categories").parent().hide(), i.find("select.scitech-categories").parent().hide(), i.find("select.all-categories").parent().show(), i.find("select.awards-advsrch-searchtype").siblings("div.btn-group").hide(), i.find("span.awards-advsrch-searchtype-na").show()), g[0].Name == p.Name && (i.find("select.hono-categories").parent().show(), i.find("select.scitech-categories").parent().hide(), i.find("select.all-categories").parent().hide(), i.find("select.awards-advsrch-searchtype").siblings("div.btn-group").hide(), i.find("span.awards-advsrch-searchtype-na").show()), g[0].Name == f.Name && (i.find("select.hono-categories").parent().hide(), i.find("select.scitech-categories").parent().show(), i.find("select.all-categories").parent().hide(), i.find("select.awards-advsrch-searchtype").siblings("div.btn-group").hide(), i.find("span.awards-advsrch-searchtype-na").show())) : c == h || r == l || c == w || r == o ? (i.find("select.awards-advsrch-searchtype").multiselect("deselect", m), i.find("select.awards-advsrch-searchtype").multiselect("select", [1]), i.find("select.awards-advsrch-searchtype").siblings("div.btn-group").hide(), i.find("span.awards-advsrch-searchtype-na").show(), i.find("input.awards-advsrch-searchterm").prop("disabled", !1), i.find("input.awards-advsrch-searchterm").show(), i.find("select.hono-categories").parent().hide(), i.find("select.scitech-categories").parent().hide(), i.find("select.all-categories").parent().hide()) : c != d || r != n ? ("DOMContentLoaded" != t.type && (i.find("input.awards-advsrch-searchterm").val(""), i.find("select.awards-advsrch-searchtype").multiselect("deselect", m), i.find("select.awards-advsrch-searchtype").multiselect("select", [0])), i.find("input.awards-advsrch-searchterm").show(), i.find("select.awards-advsrch-categories").parent().hide(), i.find("select.awards-advsrch-searchtype").siblings("div.btn-group").show(), i.find("span.awards-advsrch-searchtype-na").hide()) : (i.find("input.awards-advsrch-searchterm").prop("disabled", !0), i.find("input.awards-advsrch-searchterm").show(), i.find("select.awards-advsrch-categories").parent().hide(), "DOMContentLoaded" != t.type && (i.find("select.awards-advsrch-searchtype").multiselect("deselect", m), i.find("select.awards-advsrch-searchtype").multiselect("select", [0])), i.find("select.awards-advsrch-searchtype").siblings("div.btn-group").show(), i.find("span.awards-advsrch-searchtype-na").hide()) } awjs("#searchForm").on("submit", function (e) { var a = awjs("#submitvalue").val(); if ("Basic" == a) { var s = awjs("#BasicSearchView_FilmTitle").val(), t = awjs("#BasicSearchView_AwardCategory").val(), i = awjs("#BasicSearchView_Nominee").val(), r = parseInt(awjs("#BasicSearchView_AwardShowNumberFrom").val()), c = parseInt(awjs("#BasicSearchView_AwardShowNumberTo").val()), n = awjs("#BasicSearchView_IsWinnersOnly").prop("checked"); return 0 != s.length || null != t || 0 != i.length || 0 != r || 0 != c || n ? (awjs("#basicsearchvalidationmessage").text(""), !0) : (e.preventDefault(), awjs("#basicsearchvalidationmessage").text("Please enter a Film Title, Nominee, Category or Year."), !1) } if ("Advanced" == a) { var d = awjs("#advancedsearch").find(".awards-advsrch-fieldfilter"), l = []; l.push({ Id: "3", Name: "Award Category" }), l.push({ Id: "14", Name: "Honorary Index" }), l.push({ Id: "19", Name: "Sci/Tech Index" }); var h = d.filter(function (e, a) { return 0 == parseInt(awjs(a).find("select.awards-advsrch-searchfield").val()) && 0 == awjs(a).find("input.awards-advsrch-searchterm").val().length }), o = d.filter(function (e, a) { var s = parseInt(awjs(a).find("select.awards-advsrch-searchfield").val()), t = awjs(a).find("select.awards-advsrch-searchfield>option:selected").text(), i = awjs(a).find("input.awards-advsrch-searchterm").val(), r = awjs(a).find("select.all-categories"), c = awjs(a).find("select.scitech-categories"), n = awjs(a).find("select.hono-categories"), d = l.filter(function (e) { return "Award Category" == e.Name ? e.Field = r : "Honorary Index" == e.Name ? e.Field = n : "Sci/Tech Index" == e.Name && (e.Field = c), e.Id == s || e.Name == t }); return 0 == d.length ? s > 0 && 0 == i.length : s > 0 && 0 == d[0].Field.find("option:selected").length }), w = awjs("#advancedsearch .row-search-delimiters").find("input.awards-advsrch-delimiter:checked"), r = parseInt(awjs("#AdvancedSearchView_AwardShowNumberFrom").val()), c = parseInt(awjs("#AdvancedSearchView_AwardShowNumberTo").val()); if (0 == r && 0 == c && h.length == d.length && 0 == w.length) return e.preventDefault(), awjs("#advancedsearchvalidationmessage").text("Please enter some criteria."), !1; if (!(o.length > 0)) return awjs("#advancedsearchvalidationmessage").text(""), d.find("div.field-validation-error").text(""), !0; e.preventDefault(), o.each(function (e, a) { var s = awjs(a).find("select.awards-advsrch-searchfield option:selected").text(), t = "Please select or enter " + s; awjs(a).find("div.field-validation-error").text(t) }) } return !1 }), awjs("#advancedsearch input.awards-advsrch-searchterm").on("keypress", function (e) { 13 == e.keyCode && awjs("#btnadvancedsearch").trigger("click") }), awjs("#btnresulturlemail").on("click", function (e) { location.href = "mailto:?subject=Academy Awards Database Results&body=" + encodeURI(awjs("#awardsresultsharelink").attr("href")) }), function () { var e = awjs("#activetab").val(); if (null != e) { var a = "#" + e.toLowerCase() + "searchtab"; awjs(a).tab("show") } }(), awjs("#AdvancedSearchView_AwardShowNumberFrom,#AdvancedSearchView_AwardShowNumberTo,#BasicSearchView_AwardShowNumberFrom,#BasicSearchView_AwardShowNumberTo").multiselect({ maxHeight: 300, enableFiltering: !0, inheritClass: !0, buttonWidth: "100%", buttonContainer: '<div class="btn-group multiselect-btn-group"/>', onInitialized: function (e, a) { this.$ul.width("inherit") } }), awjs("select.awards-basicsrch-sortby,.awards-advsrch-sortby").multiselect({ inheritClass: !0, buttonContainer: '<div class="btn-group multiselect-btn-group"/>' }), awjs("#resultsview").multiselect({ buttonContainer: '<div class="btn-group multiselect-btn-group"/>', onChange: function (e, a) { var s = awjs(e).val(); awjs(this.$select).val(s) } }), function () { awjs("#BasicSearchView_AwardCategory").multiselect({ enableFiltering: !0, enableClickableOptGroups: !0, enableCaseInsensitiveFiltering: !0, maxHeight: 265, inheritClass: !0, buttonWidth: "100%", buttonContainer: '<div class="btn-group multiselect-btn-group"/>', delimiterText: "; ", nonSelectedText: "--Select--", onInitialized: function (e, a) { this.$ul.width("inherit") } }); var e = awjs("#BasicSearchView_AwardCategory").next().children("ul.multiselect-container"); e.find('li:contains("Special Achievement Award")').css("margin-top", "10px"), e.find('li.multiselect-group:contains("Scientific and Technical (select all)")').css("margin-top", "10px"), e.find('li.multiselect-group:contains("Discontinued Categories (select all)")').css("margin-top", "10px") }(), awjs("#BasicSearchView_FilmTitle,#BasicSearchView_Nominee,#BasicSearchView_SongTitle,#BasicSearchView_AwardCategory").on("change", function () { var e = awjs("#BasicSearchView_FilmTitle").val(), a = awjs("#BasicSearchView_Nominee").val(), s = document.getElementById("BasicSearchView_AwardCategory"), t = document.getElementById("BasicSearchView_Sort"), i = s.selectedIndex; awjs(t).multiselect("deselect", t.value), e.length > 0 && 0 == a.length && i <= 0 ? awjs(t).multiselect("select", ["2-Film Title-Alpha"]) : 0 == e.length && a.length > 0 && i <= 0 ? awjs(t).multiselect("select", ["1-Nominee-Alpha"]) : awjs(t).multiselect("select", ["3-Award Category-Chron"]) }), awjs("#btnbasicsearchclear").on("click", function (e) { awjs("#BasicSearchView_Nominee").val(""), awjs("#BasicSearchView_FilmTitle").val(""), awjs("#BasicSearchView_SongTitle").val(""), awjs("#BasicSearchView_IsWinnersOnly").prop("checked", !1), awjs("#BasicSearchView_IsApproximateMatch").prop("checked", !1); var a = awjs("#BasicSearchView_AwardCategory"); a.multiselect("deselect", a.val()), a.multiselect("select", [""]), a.multiselect("refresh"); var s = awjs("#BasicSearchView_AwardShowNumberFrom"); s.multiselect("deselect", [s.val()]), s.multiselect("select", [""]), s.multiselect("refresh"); var t = awjs("#BasicSearchView_AwardShowNumberTo"); t.multiselect("deselect", [t.val()]), t.multiselect("select", [""]), t.multiselect("refresh"); var i = awjs("#BasicSearchView_Sort"); i.multiselect("deselect", [i.val()]), i.multiselect("select", ["3-Award Category-Chron"]), i.multiselect("refresh") }), awjs("#fuzzysearchtooltip").tooltip(), awjs("#advancedsearch select.awards-advsrch-searchfield").multiselect({ maxHeight: 200, inheritClass: !0, buttonWidth: "100%", buttonContainer: '<div class="btn-group multiselect-btn-group"/>', onInitialized: function (e, a) { this.$ul.width("inherit") }, onChange: function (e, a) { var s = []; s.push({ Id: "3", Name: "Award Category" }), s.push({ Id: "14", Name: "Honorary Index" }), s.push({ Id: "19", Name: "Sci/Tech Index" }); var t = awjs("#" + this.originalOptions.id).parents("div.awards-advsrch-fieldfilter"), i = t.find("select.awards-advsrch-searchfield").val(), r = t.find("select.awards-advsrch-searchfield>option:selected").text(), c = s.filter(function (e) { return e.Id == i || e.Name == r }); c.length > 0 && awjs(e).parents("div.awards-advsrch-fieldfilter").find("input.awards-advsrch-searchterm").val("") } }), awjs("#advancedsearch select.awards-advsrch-searchtype").multiselect({ inheritClass: !0, buttonWidth: "100%", buttonContainer: '<div class="btn-group multiselect-btn-group"/>', onInitialized: function (e, a) { this.$ul.width("inherit") } }), awjs("#advancedsearch select.awards-advsrch-categories").multiselect({ enableFiltering: !0, enableClickableOptGroups: !0, enableCaseInsensitiveFiltering: !0, maxHeight: 200, inheritClass: !0, delimiterText: "; ", buttonWidth: "100%", nonSelectedText: "--Select--", buttonContainer: '<div class="btn-group multiselect-btn-group"/>', onInitialized: function (e, a) { this.$ul.width("inherit") } }), awjs("select.awards-advsrch-searchfield").next().children("ul.multiselect-container").find('li:contains("Production Company")').css("margin-bottom", "15px"), function () { awjs("#advancedsearch select.awards-advsrch-searchfield").each(function (a, s) { var t = awjs(s).parents("div.awards-advsrch-fieldfilter"), i = awjs(s).find("option:selected").text(), r = awjs(s).find("option:selected").val(); null == r && (r = ""); var c = window.event || { type: "DOMContentLoaded" }; e(t, i, r, c) }); var a = awjs("#advancedsearch div.awards-advsrch-fieldfilter select.all-categories").next().children("ul.multiselect-container"); a.find("li:contains('Special Achievement Award')").css("margin-top", "10px"), a.find('li.multiselect-group:contains("Scientific and Technical (select all)")').css("margin-top", "10px"), a.find('li.multiselect-group:contains("Discontinued Categories (select all)")').css("margin-top", "10px"), awjs("#advancedsearch .awards-advsrch-searchfield").on("change", function (a) { var s, t, i, r, c; s = a, i = awjs(t = this).parents("div.awards-advsrch-fieldfilter"), r = awjs(t).find("option:selected").text(), c = awjs(t).find("option:selected").val(), s = s || window.event, e(i, r, c, s) }) }(), awjs("#AdvancedSearchView_IsShort").change(function (e) { 1 == awjs(this).prop("checked") && awjs("#AdvancedSearchView_IsFeature").prop("checked", !1) }), awjs("#AdvancedSearchView_IsFeature").change(function (e) { 1 == awjs(this).prop("checked") && awjs("#AdvancedSearchView_IsShort").prop("checked", !1) }), awjs("#AdvancedSearchView_IsMenOnly").change(function (e) { 1 == awjs(this).prop("checked") && awjs("#AdvancedSearchView_IsWomenOnly").prop("checked", !1) }), awjs("#AdvancedSearchView_IsWomenOnly").change(function (e) { 1 == awjs(this).prop("checked") && awjs("#AdvancedSearchView_IsMenOnly").prop("checked", !1) }), awjs("#btnadvancedsearchclear").on("click", function (e) { awjs("input.awards-advsrch-searchterm").val(""), awjs("select.awards-advsrch-searchtype").multiselect("select", ["0"]), awjs("#advancedsearch").find('input[name*=".Is"]').prop("checked", !1); var a = awjs("#AdvancedSearchView_AwardShowNumberFrom"); a.multiselect("deselect", [a.val()]), a.multiselect("select", [""]), a.multiselect("refresh"); var s = awjs("#AdvancedSearchView_AwardShowNumberTo"); s.multiselect("deselect", [s.val()]), s.multiselect("select", [""]), s.multiselect("refresh"), awjs("select.awards-advsrch-searchfield,select.awards-advsrch-categories").each(function (e, a) { awjs(this).multiselect("deselect", [this.value]), awjs(this).multiselect("select", [""]), awjs(this).trigger("change") }); var t = awjs("div.awards-advsrch-fieldfilter"); t.find("input.condition-and").prop("checked", !0), t.find("input.condition-or").prop("checked", !1); var i = awjs("#AdvancedSearchView_Sort"); i.multiselect("deselect", [i.val()]), i.multiselect("select", ["3-Award Category-Chron"]), i.multiselect("refresh") }), awjs("a.nominations-link").on("click", function (e) { e.preventDefault(); var a = awjs(this).parents("form:first"); a[0].action = awjs(this).attr("href"), a.submit() }) });